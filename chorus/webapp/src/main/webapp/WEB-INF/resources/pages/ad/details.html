<link rel="stylesheet" href="../css/validation.css">

<div id="advertisement-details-dialog" modal-dialog>
    <div class="modal-holder ads-dialog">
        <div class="modal-frame">
            <div class="modal-header">
                <a data-dismiss="modal" class="close">&times;</a>

                <h3>Edit Advertisement</h3>
            </div>

            <form name="form" ng-submit="updateAdvertisement()">
                <div class="modal-body">
                    <div class="tab-content">
                        <div class="tab-pane fade active in" id="general">
                            <div class="table advertisement-details">
                                <div class="control-group clearfix"
                                     data-ng-class="{error: form.title.$error.inputValidator}">
                                    <label for="title">Advertisement Title</label>
                                    <input class="dialog-text-input dont-hide" id="title" name="title" input-validator
                                           maxlength="255" ng-model="details.title" required/>
                                    <span class="error-message">Field Advertisement Title is required</span>
                                </div>
                                <div class="row-fluid">
                                    <div class="control-group span6 input-append" data-ng-class="{error: form.startdate.$error.inputValidator}">
                                        <label for="startdate">Start Roll Date</label>
                                        <input class="calendar-picker" id="startdate" name="startdate" type="text" input-validator
                                               ng-model="details.startDate"
                                               chorus-start-datepicker="details.endDate"/>
                                        <label for="startdate" class="add-on"><i class="icon-calendar"></i>
                                        </label>
                                    </div>
                                    <div class="control-group span6 input-append" data-ng-class="{error: form.enddate.$error.inputValidator}">
                                        <label for="enddate">End Roll Date</label>
                                        <input class="calendar-picker" id="enddate" name="enddate" type="text" input-validator
                                               ng-model="details.endDate"
                                               chorus-end-datepicker="details.startDate"/>
                                        <label for="enddate" class="add-on"><i class="icon-calendar"></i>
                                        </label>
                                    </div>
                                </div>
                                <div class="control-group clearfix"
                                     data-ng-class="{error: form.link.$error.inputValidator}">
                                    <label for="link">Redirect Link</label>
                                    <input class="dialog-text-input dont-hide" id="link" name="link"
                                           input-validator
                                           maxlength="1024" ng-model="details.redirectLink" required/>
                                    <span class="error-message">Field Redirect Link is required</span>
                                </div>
                                <div class="row-fluid">
                                    <div class="control-group clearfix counter">
                                        <label>Impressions:</label>

                                        <div class="item">
                                            <span class="static-value" ng-bind="details.displayedCount"></span>
                                        </div>
                                    </div>
                                    <div class="control-group clearfix counter">
                                        <label>Clicks:</label>

                                        <div class="item">
                                            <span class="static-value" ng-bind="details.clickedCount"></span>
                                        </div>
                                    </div>
                                    <div class="control-group clearfix">
                                        <label for="ad-state">Enabled:</label>
                                        <input id="ad-state" type="checkbox" ng-model="details.isEnabled">
                                    </div>
                                    <advertisement-image-upload  existing-attachments="existingAnnotationAttachmentModel.existingAttachments"
                                                                 removed-attachments="existingAnnotationAttachmentModel.removedAttachments"></advertisement-image-upload>
                                    </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <a class="btn secondary-action" data-dismiss="modal" aria-hidden="true">Close</a>
                        <button ng-click="modalReturnUrl = '/ad'" class="btn btn-primary main-action"
                                type="submit"
                                ng-disabled="isFormInvalid()">Save
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

</div>