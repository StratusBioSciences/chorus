<link rel="stylesheet" href="../css/validation.css" xmlns="http://www.w3.org/1999/html">
<div class="import-microarrays-experiment" id="import-microarrays-experiment-modal-dialog" modal-dialog={{returnUrl}}
     data-ng-class="{'experiment-expanded': expanded}">
    <div class="modal-holder">
        <div class="modal-frame">
            <div class="modal-header">
                <a data-dismiss="modal" class="close">&times;</a>
                <a ng-model="expanded" class="wizard-expanded" ng-click="expanded=!expanded"
                   data-ng-class="{'expanded': expanded}">full screen</a>

                <h3 ng-bind="page.title">Import MicroArrays Experiment</h3>
            </div>
            <div class="modal-body" ng-cloak>
                <form name="form" novalidate>
                    <div class="dialog-container">
                        <div class="row-fluid">
                            <div class="control-group"
                                 data-ng-class="{error: form.project.$error.uiSelect2Validator}">
                                <label class="control-label" for="project">Project <span
                                        class="error-message">is required</span></label>
                                <select check-ui-selection ui-select2="{formatResult: formatExperimentProject}"
                                        data-placeholder="-- Select One --" ui-select2-validator
                                        ng-model="vm.selected.project"
                                        id="project" class="dialog-select span12" name="project" required>
                                    <option></option>
                                    <option value="{{project.id}}" ng-repeat="project in vm.projects"
                                            title="Owner: {{project.creator}} <{{project.creatorEmail}}>">
                                        {{project.name}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="row-fluid">
                            <div class="control-group" data-ng-class="{error: form.lab.$error.uiSelect2Validator}">
                                <label class="control-label" for="labs">Laboratory <span
                                        class="error-message">is required</span></label>

                                <select name="lab" check-ui-selection ui-select2 ui-select2-validator=""
                                        data-placeholder="-- Select One --" id="labs" class="dialog-select lab-select"
                                        ng-model="vm.selected.lab" required>
                                    <option></option>
                                    <option value="{{lab.id}}" ng-repeat="lab in vm.labs">
                                        {{lab.name}}
                                    </option>
                                </select>
                            </div>
                        </div>

                        <div class="row-fluid">
                            <div class="control-group ">
                                <label class="control-label" for="accessionNumberPackages">Packages</label>
                            <textarea class="span12 dialog-text-area" rows="5" id="accessionNumberPackages"
                                      ng-model="vm.selected.packages"
                                      placeholder="List of accession numbers, separated by commas,  e.g. GSE47552, GSE36036"></textarea>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <div class="modal-footer">
                <button class="btn secondary-action" data-dismiss="modal">Cancel</button>
                <button class="btn btn-primary main-action " ng-click="vm.confirmExperimentImport();"
                        ng-disabled="vm.disableFinishButton || vm.isSelectedDataInvalid()">Import
                </button>
            </div>
        </div>
    </div>
</div>
